"use strict";(globalThis.webpackChunksintraprime_docs=globalThis.webpackChunksintraprime_docs||[]).push([[7732],{8792(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"core-concepts/architecture-overview","title":"Architecture Overview","description":"High-level architecture of SintraPrime\'s multi-service governance OS for AI agents.","source":"@site/docs/core-concepts/architecture-overview.md","sourceDirName":"core-concepts","slug":"/core-concepts/architecture-overview","permalink":"/SintraPrime/docs/core-concepts/architecture-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/ihoward40/SintraPrime/tree/gh-pages-source/docs/core-concepts/architecture-overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Architecture Overview","description":"High-level architecture of SintraPrime\'s multi-service governance OS for AI agents."},"sidebar":"docsSidebar","previous":{"title":"Configuration Reference","permalink":"/SintraPrime/docs/getting-started/configuration"},"next":{"title":"Governance Model","permalink":"/SintraPrime/docs/core-concepts/governance-model"}}');var t=r(4848),s=r(8453);const a={sidebar_position:1,title:"Architecture Overview",description:"High-level architecture of SintraPrime's multi-service governance OS for AI agents."},c="Architecture Overview",l={},o=[{value:"System Architecture",id:"system-architecture",level:2},{value:"Service Architecture",id:"service-architecture",level:2},{value:"Airlock Server (ManusLite Gateway)",id:"airlock-server-manuslite-gateway",level:3},{value:"Brain Service (Core Orchestrator)",id:"brain-service-core-orchestrator",level:3},{value:"FastAPI Service",id:"fastapi-service",level:3},{value:"WebApp (Operator Dashboard)",id:"webapp-operator-dashboard",level:3},{value:"MySQL Database",id:"mysql-database",level:3},{value:"Request Flow",id:"request-flow",level:2},{value:"Governance Wrapping",id:"governance-wrapping",level:2},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,t.jsxs)(n.p,{children:["SintraPrime is built as a ",(0,t.jsx)(n.strong,{children:"multi-service architecture"})," where every component operates under a unified governance layer. This design ensures that no AI agent action can bypass policy enforcement, receipt generation, or audit logging."]}),"\n",(0,t.jsx)(n.h2,{id:"system-architecture",children:"System Architecture"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TB\n    subgraph External["External Services"]\n        Gmail["Gmail"]\n        Notion["Notion"]\n        Slack["Slack"]\n        Make["Make.com"]\n        Meta["Meta/Facebook"]\n        Shopify["Shopify"]\n    end\n\n    subgraph SintraPrime["SintraPrime OS"]\n        subgraph Gateway["Gateway Layer"]\n            Airlock["Airlock Server<br/>(ManusLite Gateway)<br/>Port 3100"]\n        end\n\n        subgraph Core["Core Layer"]\n            Brain["Brain Service<br/>(Orchestrator)<br/>Port 3000"]\n            Governance["Governance Engine<br/>AGENTS.md Constitution"]\n            Receipts["Receipt Ledger<br/>SHA-256 + Ed25519"]\n        end\n\n        subgraph Agents["Agent Layer"]\n            HTN["Howard Trust Navigator"]\n            SG["SentinelGuard"]\n            GPA["General Purpose Agent"]\n            CPA["Content Production Agent"]\n        end\n\n        subgraph Services["Service Layer"]\n            FastAPI["FastAPI Service<br/>Port 8000"]\n            WebApp["WebApp UI<br/>Port 5173"]\n            DeepThink["DeepThink<br/>Analysis Runner"]\n        end\n\n        subgraph Data["Data Layer"]\n            MySQL["MySQL Database<br/>Port 3306"]\n            ReceiptStore["Receipt Store"]\n            EvidenceStore["Evidence Store"]\n        end\n    end\n\n    External --\x3e Airlock\n    Airlock --\x3e Brain\n    Brain --\x3e Governance\n    Governance --\x3e Receipts\n    Brain --\x3e Agents\n    Agents --\x3e FastAPI\n    Brain --\x3e Services\n    Services --\x3e Data\n    Receipts --\x3e ReceiptStore'}),"\n",(0,t.jsx)(n.h2,{id:"service-architecture",children:"Service Architecture"}),"\n",(0,t.jsx)(n.p,{children:"SintraPrime consists of five primary services, each containerized for production deployment:"}),"\n",(0,t.jsx)(n.h3,{id:"airlock-server-manuslite-gateway",children:"Airlock Server (ManusLite Gateway)"}),"\n",(0,t.jsxs)(n.p,{children:["The Airlock is the ",(0,t.jsx)(n.strong,{children:"single entry point"})," for all external payloads entering SintraPrime. It provides:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HMAC verification"})," \u2014 Every incoming request is verified against a shared secret"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rate limiting"})," \u2014 Configurable per-IP request throttling"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Payload validation"})," \u2014 Schema validation before forwarding to the Brain"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security hardening"})," \u2014 Helmet headers, CORS controls, and request sanitization"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"brain-service-core-orchestrator",children:"Brain Service (Core Orchestrator)"}),"\n",(0,t.jsx)(n.p,{children:"The Brain is the heart of SintraPrime. It contains:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent Mode Engine"})," \u2014 The Validator \u2192 Planner \u2192 Executor pipeline"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Workflow Runner"})," \u2014 YAML/JSON workflow execution engine"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Governance Engine"})," \u2014 Policy gates, mode enforcement, and approval workflows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Adapter Manager"})," \u2014 Governed access to all external services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Receipt Generator"})," \u2014 Cryptographic receipt creation and chain management"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"fastapi-service",children:"FastAPI Service"}),"\n",(0,t.jsx)(n.p,{children:"The Python-based FastAPI service handles:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ML/AI model integrations"})," \u2014 Advanced reasoning and analysis"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DeepThink analysis"})," \u2014 Deterministic analysis with cryptographic verification"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data processing"})," \u2014 Complex data transformations and aggregations"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"webapp-operator-dashboard",children:"WebApp (Operator Dashboard)"}),"\n",(0,t.jsx)(n.p,{children:"The web application provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"System monitoring"})," \u2014 Real-time service health and metrics"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Receipt browser"})," \u2014 Search and verify operation receipts"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Task management"})," \u2014 Submit, monitor, and approve tasks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Evidence viewer"})," \u2014 Browse and export evidence artifacts"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"mysql-database",children:"MySQL Database"}),"\n",(0,t.jsx)(n.p,{children:"Persistent storage for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Receipt ledger"})," \u2014 Immutable operation records"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Evidence artifacts"})," \u2014 Processed evidence with metadata"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"System state"})," \u2014 Configuration, agent registry, and task queues"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audit logs"})," \u2014 Comprehensive system activity logs"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"request-flow",children:"Request Flow"}),"\n",(0,t.jsx)(n.p,{children:"Every operation in SintraPrime follows this flow:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ingress"})," \u2014 External request arrives at the Airlock Server"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Verification"})," \u2014 HMAC signature is verified, payload is validated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Governance Check"})," \u2014 The governance engine checks mode, policy gates, and spending limits"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Planning"})," \u2014 The Planner generates an execution plan with required adapters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Approval"})," \u2014 If required, the task awaits human approval"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execution"})," \u2014 The Executor runs the plan through governed adapters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Receipt Generation"})," \u2014 A cryptographic receipt is generated with SHA-256 hash and Ed25519 signature"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Chain Update"})," \u2014 The receipt is chained to the previous receipt via hash linking"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response"})," \u2014 Results are returned to the caller with receipt reference"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"governance-wrapping",children:"Governance Wrapping"}),"\n",(0,t.jsxs)(n.p,{children:["The critical architectural principle is that ",(0,t.jsx)(n.strong,{children:"governance wraps everything"}),". There is no code path that bypasses the governance layer:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Governance Layer              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502        Policy Gates               \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502     Mode Enforcement        \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502   Agent Execution     \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502  \u2502 Adapter Action  \u2502  \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502           Receipt Generation            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"Design Philosophy",type:"info",children:(0,t.jsxs)(n.p,{children:["SintraPrime follows a ",(0,t.jsx)(n.strong,{children:"fail-closed"})," design. If any governance check fails \u2014 missing policy, invalid mode, exceeded spending limit \u2014 the operation is rejected and a denial receipt is generated. The system never defaults to allowing an operation."]})}),"\n",(0,t.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Layer"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Technology"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Language"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"TypeScript (86.6%), JavaScript (7.7%)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Runtime"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Node.js 20+"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Framework"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Express.js (Airlock), Custom (Brain)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Database"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"MySQL 8.0"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Browser Automation"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Playwright"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Containerization"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Docker, Docker Compose"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"AI Providers"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"OpenAI, Anthropic, Kimi K 2.5, ClawdBot"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Cryptography"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"SHA-256 (hashing), Ed25519 (signing)"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./governance-model",children:"Governance Model"})," \u2014 Deep dive into fail-closed governance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./receipt-ledger",children:"Receipt Ledger"})," \u2014 How cryptographic receipts work"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./agent-mode-engine",children:"Agent Mode Engine"})," \u2014 The execution pipeline"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>c});var i=r(6540);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);