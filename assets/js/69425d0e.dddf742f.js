"use strict";(globalThis.webpackChunksintraprime_docs=globalThis.webpackChunksintraprime_docs||[]).push([[3780],{5635(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"deployment/overview","title":"Deployment Overview","description":"Deployment options and strategies for SintraPrime in production environments.","source":"@site/docs/deployment/overview.md","sourceDirName":"deployment","slug":"/deployment/overview","permalink":"/SintraPrime/docs/deployment/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/ihoward40/SintraPrime/tree/gh-pages-source/docs/deployment/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Deployment Overview","description":"Deployment options and strategies for SintraPrime in production environments."},"sidebar":"docsSidebar","previous":{"title":"Kilo Skills System","permalink":"/SintraPrime/docs/kilo-skills/overview"},"next":{"title":"Contributing Guide","permalink":"/SintraPrime/docs/contributing/guide"}}');var i=n(4848),s=n(8453);const r={sidebar_position:1,title:"Deployment Overview",description:"Deployment options and strategies for SintraPrime in production environments."},o="Deployment Overview",c={},d=[{value:"Deployment Options",id:"deployment-options",level:2},{value:"Docker Compose Deployment",id:"docker-compose-deployment",level:2},{value:"Services",id:"services",level:3},{value:"Production Configuration",id:"production-configuration",level:3},{value:"Security Hardening",id:"security-hardening",level:2},{value:"TLS Termination",id:"tls-termination",level:3},{value:"Firewall Rules",id:"firewall-rules",level:3},{value:"Backup Strategy",id:"backup-strategy",level:2},{value:"Database Backup",id:"database-backup",level:3},{value:"Receipt Backup",id:"receipt-backup",level:3},{value:"Monitoring",id:"monitoring",level:2},{value:"Health Checks",id:"health-checks",level:3},{value:"Log Management",id:"log-management",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"deployment-overview",children:"Deployment Overview"})}),"\n",(0,i.jsx)(t.p,{children:"SintraPrime supports multiple deployment strategies, from single-server Docker Compose to multi-node orchestrated deployments. This guide covers the available options and best practices for production deployments."}),"\n",(0,i.jsx)(t.h2,{id:"deployment-options",children:"Deployment Options"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Option"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Best For"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Complexity"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Docker Compose"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Single server, small teams"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Low"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Docker Compose (Full)"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Single server, all services"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Medium"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Manual"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Custom environments, development"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Medium"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Kubernetes"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Multi-node, enterprise"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"High"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"docker-compose-deployment",children:"Docker Compose Deployment"}),"\n",(0,i.jsxs)(t.p,{children:["The recommended production deployment uses ",(0,i.jsx)(t.code,{children:"docker-compose.full.yml"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Production deployment\ncp .env.docker.example .env.docker\n# Edit .env.docker with production values\n\ndocker-compose -f docker-compose.full.yml up -d\n"})}),"\n",(0,i.jsx)(t.h3,{id:"services",children:"Services"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Service"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Image"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Port"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Resources"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"airlock"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"sintraprime/airlock"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"3100"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"512MB RAM, 0.5 CPU"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"brain"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"sintraprime/brain"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"3000"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"2GB RAM, 2 CPU"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"fastapi"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"sintraprime/fastapi"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"8000"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"1GB RAM, 1 CPU"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"webapp"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"sintraprime/webapp"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"5173"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"512MB RAM, 0.5 CPU"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"mysql"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"mysql:8.0"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"3306"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"2GB RAM, 1 CPU"})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"production-configuration",children:"Production Configuration"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",metastring:'title="docker-compose.full.yml (production overrides)"',children:"services:\n  brain:\n    restart: always\n    deploy:\n      resources:\n        limits:\n          memory: 4G\n          cpus: '2.0'\n    environment:\n      - NODE_ENV=production\n      - LOG_LEVEL=info\n\n  mysql:\n    restart: always\n    volumes:\n      - mysql_data:/var/lib/mysql\n    deploy:\n      resources:\n        limits:\n          memory: 4G\n"})}),"\n",(0,i.jsx)(t.h2,{id:"security-hardening",children:"Security Hardening"}),"\n",(0,i.jsx)(t.h3,{id:"tls-termination",children:"TLS Termination"}),"\n",(0,i.jsx)(t.p,{children:"Use a reverse proxy (nginx, Caddy, or Traefik) for TLS:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-nginx",metastring:'title="nginx.conf"',children:"server {\n    listen 443 ssl;\n    server_name sintraprime.example.com;\n\n    ssl_certificate /etc/ssl/certs/sintraprime.crt;\n    ssl_certificate_key /etc/ssl/private/sintraprime.key;\n\n    location / {\n        proxy_pass http://localhost:3100;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n"})}),"\n",(0,i.jsx)(t.h3,{id:"firewall-rules",children:"Firewall Rules"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Allow only necessary ports\nsudo ufw allow 443/tcp    # HTTPS\nsudo ufw allow 22/tcp     # SSH\nsudo ufw deny 3000/tcp    # Block direct Brain access\nsudo ufw deny 3100/tcp    # Block direct Airlock access (use nginx)\nsudo ufw deny 3306/tcp    # Block direct MySQL access\n"})}),"\n",(0,i.jsx)(t.h2,{id:"backup-strategy",children:"Backup Strategy"}),"\n",(0,i.jsx)(t.h3,{id:"database-backup",children:"Database Backup"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Automated daily backup\ndocker-compose exec mysql mysqldump -u root -p sintraprime > backup_$(date +%Y%m%d).sql\n\n# Restore from backup\ndocker-compose exec -i mysql mysql -u root -p sintraprime < backup_20260220.sql\n"})}),"\n",(0,i.jsx)(t.h3,{id:"receipt-backup",children:"Receipt Backup"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Backup receipt files\ntar -czf receipts_backup_$(date +%Y%m%d).tar.gz receipts/\n\n# Backup evidence files\ntar -czf evidence_backup_$(date +%Y%m%d).tar.gz evidence/\n"})}),"\n",(0,i.jsx)(t.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,i.jsx)(t.h3,{id:"health-checks",children:"Health Checks"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Check all services\ncurl http://localhost:3100/health  # Airlock\ncurl http://localhost:3000/health  # Brain\ncurl http://localhost:8000/health  # FastAPI\ncurl http://localhost:5173         # WebApp\n"})}),"\n",(0,i.jsx)(t.h3,{id:"log-management",children:"Log Management"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# View logs\ndocker-compose logs -f --tail=100\n\n# Export logs\ndocker-compose logs --no-color > sintraprime_logs_$(date +%Y%m%d).txt\n"})}),"\n",(0,i.jsxs)(t.admonition,{title:"Production Checklist",type:"warning",children:[(0,i.jsx)(t.p,{children:"Before deploying to production, ensure:"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"All API keys are set to production values"}),"\n",(0,i.jsx)(t.li,{children:"HMAC secrets are unique and strong"}),"\n",(0,i.jsx)(t.li,{children:"TLS is configured for all external endpoints"}),"\n",(0,i.jsx)(t.li,{children:"Database backups are automated"}),"\n",(0,i.jsx)(t.li,{children:"Monitoring and alerting are configured"}),"\n",(0,i.jsx)(t.li,{children:"Governance mode is set appropriately"}),"\n",(0,i.jsx)(t.li,{children:"Receipt signing keys are generated and secured"}),"\n"]})]}),"\n",(0,i.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"../getting-started/quick-start-docker",children:"Quick Start (Docker)"})," \u2014 Initial Docker setup"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"../getting-started/configuration",children:"Configuration Reference"})," \u2014 All configuration options"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"../core-concepts/architecture-overview",children:"Architecture Overview"})," \u2014 System design"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,t,n){n.d(t,{R:()=>r,x:()=>o});var l=n(6540);const i={},s=l.createContext(i);function r(e){const t=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(s.Provider,{value:t},e.children)}}}]);